# é€‰è¯¾ç¤¾åŒºæœ¬åœ°éƒ¨ç½²è¯´æ˜

## é¡¹ç›®ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªåŸºäº Django + Next.js çš„é€‰è¯¾ç¤¾åŒºé¡¹ç›®ï¼ŒåŒ…å«å‰ç«¯å’Œåç«¯ä¸¤ä¸ªéƒ¨åˆ†ï¼Œæ”¯æŒè¯¾ç¨‹ä¿¡æ¯å±•ç¤ºã€è¯„ä»·ç­‰åŠŸèƒ½ã€‚

## ç³»ç»Ÿè¦æ±‚

- **æ“ä½œç³»ç»Ÿ**: macOS (å·²åœ¨ macOS ä¸Šæµ‹è¯•)
- **Python**: 3.8+
- **Node.js**: 16+
- **PostgreSQL**: 13+
- **Redis**: 6+

## ç›®å½•ç»“æ„

```
SWUFEè¯„è¯¾ç¤¾åŒº/
â”œâ”€â”€ jcourse_api-master/          # åç«¯Djangoé¡¹ç›®
â”œâ”€â”€ jcourse-master/              # å‰ç«¯Next.jsé¡¹ç›®
â”œâ”€â”€ class-resource/              # è¯¾è¡¨æ•°æ®
â”‚   â””â”€â”€ 2024-2025-2è¯¾è¡¨(20250324)-2.csv
â”œâ”€â”€ start_jcourse.sh             # ä¸€é”®å¯åŠ¨è„šæœ¬
â”œâ”€â”€ stop_jcourse.sh              # åœæ­¢æœåŠ¡è„šæœ¬
â””â”€â”€ éƒ¨ç½²è¯´æ˜.md                   # æœ¬è¯´æ˜æ–‡æ¡£
```

## å¿«é€Ÿå¼€å§‹

### 1. å‡†å¤‡å·¥ä½œ

ç¡®ä¿æ‚¨çš„ç³»ç»Ÿå·²å®‰è£… [Homebrew](https://brew.sh/)ï¼š

```bash
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
```

### 2. ä¸€é”®å¯åŠ¨

åœ¨é¡¹ç›®æ ¹ç›®å½•ï¼ˆåŒ…å« `jcourse_api-master` å’Œ `jcourse-master` çš„ç›®å½•ï¼‰è¿è¡Œï¼š

```bash
# ç»™è„šæœ¬æ·»åŠ æ‰§è¡Œæƒé™
chmod +x start_jcourse.sh stop_jcourse.sh

# å¯åŠ¨æœåŠ¡
bash start_jcourse.sh
```

è„šæœ¬å°†è‡ªåŠ¨å®Œæˆä»¥ä¸‹æ“ä½œï¼š

1. âœ… æ£€æŸ¥å¹¶å®‰è£…ç³»ç»Ÿä¾èµ–ï¼ˆPython3, Node.js, PostgreSQL, Redisç­‰ï¼‰
2. âœ… å¯åŠ¨æ•°æ®åº“æœåŠ¡ï¼ˆPostgreSQL å’Œ Redisï¼‰
3. âœ… åˆ›å»ºæ•°æ®åº“å’Œç”¨æˆ·
4. âœ… è®¾ç½®åç«¯è™šæ‹Ÿç¯å¢ƒå¹¶å®‰è£…ä¾èµ–
5. âœ… æ‰§è¡Œæ•°æ®åº“è¿ç§»
6. âœ… åˆ›å»ºç®¡ç†å‘˜è´¦æˆ·
7. âœ… å®‰è£…å‰ç«¯ä¾èµ–
8. âœ… å¯¼å…¥è¯¾è¡¨æ•°æ®
9. âœ… å¯åŠ¨å‰åç«¯æœåŠ¡

### 3. è®¿é—®åº”ç”¨

å¯åŠ¨æˆåŠŸåï¼Œæ‚¨å¯ä»¥è®¿é—®ï¼š

- **å‰ç«¯åº”ç”¨**: http://localhost:3000
- **åç«¯API**: http://localhost:8000
- **ç®¡ç†åå°**: http://localhost:8000/admin
  - ç”¨æˆ·å: `admin`
  - å¯†ç : `admin`

### 4. åœæ­¢æœåŠ¡

```bash
bash stop_jcourse.sh
```

## æ‰‹åŠ¨éƒ¨ç½²ï¼ˆå¯é€‰ï¼‰

å¦‚æœä¸€é”®è„šæœ¬é‡åˆ°é—®é¢˜ï¼Œæ‚¨å¯ä»¥æŒ‰ä»¥ä¸‹æ­¥éª¤æ‰‹åŠ¨éƒ¨ç½²ï¼š

### åç«¯éƒ¨ç½²

1. **å®‰è£… PostgreSQL å’Œ Redis**

```bash
brew install postgresql@15 redis
brew services start postgresql@15
brew services start redis
```

2. **åˆ›å»ºæ•°æ®åº“**

```bash
# åˆ›å»ºç”¨æˆ·å’Œæ•°æ®åº“
psql -U $(whoami) postgres -c "CREATE USER jcourse WITH PASSWORD 'jcourse';"
psql -U $(whoami) postgres -c "ALTER USER jcourse CREATEDB;"
psql -U $(whoami) postgres -c "CREATE DATABASE jcourse OWNER jcourse;"
```

3. **è®¾ç½®åç«¯**

```bash
cd jcourse_api-master

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python3 -m venv venv
source venv/bin/activate

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# è®¾ç½®ç¯å¢ƒå˜é‡
export POSTGRES_PASSWORD=jcourse
export POSTGRES_HOST=localhost
export DEBUG=True

# æ•°æ®åº“è¿ç§»
python manage.py migrate

# åˆ›å»ºè¶…çº§ç”¨æˆ·
python manage.py createsuperuser

# å¯¼å…¥è¯¾è¡¨æ•°æ®
python manage.py import_schedule "../class-resource/2024-2025-2è¯¾è¡¨(20250324)-2.csv" --semester "2024-2025-2"

# å¯åŠ¨åç«¯
python manage.py runserver 0.0.0.0:8000
```

### å‰ç«¯éƒ¨ç½²

åœ¨æ–°ç»ˆç«¯ä¸­ï¼š

```bash
cd jcourse-master

# å®‰è£…ä¾èµ–
yarn install

# è®¾ç½®ç¯å¢ƒå˜é‡
export REMOTE_URL=http://localhost:8000

# å¯åŠ¨å‰ç«¯
yarn dev
```

## åŠŸèƒ½ç‰¹æ€§

### å·²å®ç°åŠŸèƒ½

- âœ… è¯¾ç¨‹ä¿¡æ¯ç®¡ç†
- âœ… æ•™å¸ˆä¿¡æ¯ç®¡ç†
- âœ… å­¦é™¢å’Œè¯¾ç¨‹ç±»åˆ«ç®¡ç†
- âœ… è¯¾è¡¨æ•°æ®å¯¼å…¥
- âœ… ç®¡ç†åå°
- âœ… RESTful API

### è¯¾è¡¨æ•°æ®æ ¼å¼

æ”¯æŒä»¥ä¸‹CSVæ ¼å¼çš„è¯¾è¡¨æ•°æ®ï¼š

| å­—æ®µåç§° | è¯´æ˜ | ç¤ºä¾‹ |
|---------|------|------|
| è¯¾ç¨‹ä»£ç  | è¯¾ç¨‹å”¯ä¸€æ ‡è¯† | INS312 |
| è¯¾ç¨‹åç§° | è¯¾ç¨‹ä¸­æ–‡åç§° | Excelåœ¨ç»æµç®¡ç†ä¸­çš„åº”ç”¨ |
| è¯¾ç¨‹è‹±æ–‡åç§° | è¯¾ç¨‹è‹±æ–‡åç§° | Excel Application in Economic Management |
| è¯¾ç¨‹æ€§è´¨ | è¯¾ç¨‹ç±»åˆ« | ä¸“ä¸šæ–¹å‘è¯¾ |
| å¼€è¯¾å­¦é™¢ | å¼€è¯¾é™¢ç³» | è®¡ç®—æœºä¸äººå·¥æ™ºèƒ½å­¦é™¢ |
| ä»»è¯¾è€å¸ˆ | æ•™å¸ˆå§“å(æ”¯æŒå¤šä¸ªæ•™å¸ˆç”¨/åˆ†éš”) | é™ˆæ–Œ |
| å­¦åˆ† | è¯¾ç¨‹å­¦åˆ† | 3.0 |
| èµ·æ­¢å‘¨ | ä¸Šè¯¾å‘¨æ¬¡ | 1-17 |
| ä¸Šè¯¾åœ°ç‚¹ | æ•™å®¤ | I103 |
| ä¸Šè¯¾æ—¶é—´ | å…·ä½“æ—¶é—´ | å‘¨äºŒç¬¬10,11,12èŠ‚{ç¬¬1-17å‘¨} |
| ç­çº§ | ç­çº§ä¿¡æ¯ | 2022çº§ä¿é™©å­¦ |

## å¸¸è§é—®é¢˜

### Q: å¯åŠ¨æ—¶æç¤ºç«¯å£è¢«å ç”¨æ€ä¹ˆåŠï¼Ÿ

A: è„šæœ¬ä¼šè‡ªåŠ¨å°è¯•ç»ˆæ­¢å ç”¨ç«¯å£çš„è¿›ç¨‹ã€‚å¦‚æœä»æœ‰é—®é¢˜ï¼Œå¯ä»¥æ‰‹åŠ¨æ£€æŸ¥ï¼š

```bash
# æŸ¥çœ‹ç«¯å£å ç”¨
lsof -i :8000  # åç«¯ç«¯å£
lsof -i :3000  # å‰ç«¯ç«¯å£

# ç»ˆæ­¢è¿›ç¨‹
kill -9 <PID>
```

### Q: æ•°æ®åº“è¿æ¥å¤±è´¥æ€ä¹ˆåŠï¼Ÿ

A: æ£€æŸ¥ PostgreSQL æ˜¯å¦æ­£å¸¸è¿è¡Œï¼š

```bash
# æ£€æŸ¥æœåŠ¡çŠ¶æ€
brew services list | grep postgresql

# é‡å¯æœåŠ¡
brew services restart postgresql@15
```

### Q: å‰ç«¯æ— æ³•è¿æ¥åç«¯ APIï¼Ÿ

A: ç¡®ä¿ï¼š
1. åç«¯æœåŠ¡æ­£å¸¸è¿è¡Œåœ¨ 8000 ç«¯å£
2. å‰ç«¯ç¯å¢ƒå˜é‡ `REMOTE_URL=http://localhost:8000` å·²è®¾ç½®

### Q: è¯¾è¡¨æ•°æ®å¯¼å…¥å¤±è´¥ï¼Ÿ

A: æ£€æŸ¥ï¼š
1. CSV æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®
2. CSV æ–‡ä»¶ç¼–ç æ˜¯å¦ä¸º UTF-8
3. CSV æ–‡ä»¶æ ¼å¼æ˜¯å¦ç¬¦åˆè¦æ±‚

### Q: å¦‚ä½•é‡æ–°å¯¼å…¥è¯¾è¡¨æ•°æ®ï¼Ÿ

A: ä½¿ç”¨ç®¡ç†å‘½ä»¤ï¼š

```bash
cd jcourse_api-master
source venv/bin/activate
python manage.py import_schedule "è¯¾è¡¨æ–‡ä»¶è·¯å¾„" --semester "å­¦æœŸåç§°"
```

## æ—¥å¿—æ–‡ä»¶

- **åç«¯æ—¥å¿—**: `backend.log`
- **å‰ç«¯æ—¥å¿—**: `frontend.log`

æŸ¥çœ‹å®æ—¶æ—¥å¿—ï¼š

```bash
# åç«¯æ—¥å¿—
tail -f backend.log

# å‰ç«¯æ—¥å¿—
tail -f frontend.log
```

## æŠ€æœ¯æ ˆ

### åç«¯
- Django 5.2.1
- Django REST Framework
- PostgreSQL
- Redis
- Django Import Export

### å‰ç«¯
- Next.js 13
- React 18
- Ant Design 5
- TypeScript
- Axios

## å¼€å‘è¯´æ˜

### åç«¯å¼€å‘

```bash
cd jcourse_api-master
source venv/bin/activate

# è¿è¡Œæµ‹è¯•
python manage.py test

# åˆ›å»ºæ–°çš„è¿ç§»
python manage.py makemigrations

# åº”ç”¨è¿ç§»
python manage.py migrate
```

### å‰ç«¯å¼€å‘

```bash
cd jcourse-master

# ä»£ç æ ¼å¼åŒ–
yarn format

# è¿è¡Œæµ‹è¯•
yarn test

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
yarn build
```

## è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. å‘èµ· Pull Request

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ï¼Œè¯¦æƒ…è¯·æŸ¥çœ‹ LICENSE æ–‡ä»¶ã€‚

## è”ç³»æˆ‘ä»¬

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- é¡¹ç›®åœ°å€: [GitHub](https://github.com/dujiajun/jcourse)
- é—®é¢˜åé¦ˆ: è¯·åœ¨ GitHub Issues ä¸­æäº¤

---

**ç¥æ‚¨ä½¿ç”¨æ„‰å¿«ï¼** ğŸ‰ 